(this["webpackJsonpelection-night-reporting"]=this["webpackJsonpelection-night-reporting"]||[]).push([[0],{21:function(t,e,n){t.exports=n(30)},26:function(t,e,n){},3:function(t){t.exports=JSON.parse('{"name":"Virginia Locality Reporting","election":{"name":"General Election","date":"2020-11-03T08:00:00.000Z"},"lastUpdated":"2020-09-10T08:10:42.871Z","localities":[{"id":"1","name":"Accomack County","ballotsCounted":2603,"ballotsExpected":10124},{"id":"3","name":"Albemarle County","ballotsCounted":2674,"ballotsExpected":9244},{"id":"5","name":"Alleghany County","ballotsCounted":7695,"ballotsExpected":8926},{"id":"7","name":"Amelia County","ballotsCounted":5001,"ballotsExpected":10641},{"id":"9","name":"Amherst County","ballotsCounted":8159,"ballotsExpected":11508},{"id":"11","name":"Appomattox County","ballotsCounted":3278,"ballotsExpected":4497},{"id":"13","name":"Arlington County","ballotsCounted":4144,"ballotsExpected":5304},{"id":"15","name":"Augusta County","ballotsCounted":4172,"ballotsExpected":7030},{"id":"17","name":"Bath County","ballotsCounted":7616,"ballotsExpected":11805},{"id":"19","name":"Bedford County","ballotsCounted":4892,"ballotsExpected":12228},{"id":"21","name":"Bland County","ballotsCounted":5429,"ballotsExpected":7667},{"id":"23","name":"Botetourt County","ballotsCounted":8972,"ballotsExpected":14600},{"id":"25","name":"Brunswick County","ballotsCounted":568,"ballotsExpected":10555},{"id":"27","name":"Buchanan County","ballotsCounted":3072,"ballotsExpected":10338},{"id":"29","name":"Buckingham County","ballotsCounted":4718,"ballotsExpected":7023},{"id":"31","name":"Campbell County","ballotsCounted":9732,"ballotsExpected":11813},{"id":"33","name":"Caroline County","ballotsCounted":1422,"ballotsExpected":11391},{"id":"35","name":"Carroll County","ballotsCounted":7344,"ballotsExpected":10177},{"id":"36","name":"Charles City County","ballotsCounted":7901,"ballotsExpected":8146},{"id":"37","name":"Charlotte County","ballotsCounted":6458,"ballotsExpected":14653},{"id":"41","name":"Chesterfield County","ballotsCounted":4248,"ballotsExpected":13048},{"id":"43","name":"Clarke County","ballotsCounted":1280,"ballotsExpected":5076},{"id":"45","name":"Craig County","ballotsCounted":9003,"ballotsExpected":9239},{"id":"47","name":"Culpeper County","ballotsCounted":5461,"ballotsExpected":12333},{"id":"49","name":"Cumberland County","ballotsCounted":12123,"ballotsExpected":12680},{"id":"51","name":"Dickenson County","ballotsCounted":3928,"ballotsExpected":10914},{"id":"53","name":"Dinwiddie County","ballotsCounted":11351,"ballotsExpected":19458},{"id":"57","name":"Essex County","ballotsCounted":5614,"ballotsExpected":8878},{"id":"59","name":"Fairfax County","ballotsCounted":490,"ballotsExpected":6321},{"id":"61","name":"Fauquier County","ballotsCounted":11195,"ballotsExpected":13416},{"id":"63","name":"Floyd County","ballotsCounted":4192,"ballotsExpected":12943},{"id":"65","name":"Fluvanna County","ballotsCounted":3954,"ballotsExpected":5690},{"id":"67","name":"Franklin County","ballotsCounted":2990,"ballotsExpected":6023},{"id":"69","name":"Frederick County","ballotsCounted":7693,"ballotsExpected":12632},{"id":"71","name":"Giles County","ballotsCounted":10743,"ballotsExpected":11448},{"id":"73","name":"Gloucester County","ballotsCounted":6674,"ballotsExpected":12639},{"id":"75","name":"Goochland County","ballotsCounted":11722,"ballotsExpected":12801},{"id":"77","name":"Grayson County","ballotsCounted":1281,"ballotsExpected":7644},{"id":"79","name":"Greene County","ballotsCounted":5823,"ballotsExpected":10621},{"id":"81","name":"Greensville County","ballotsCounted":9047,"ballotsExpected":9660},{"id":"83","name":"Halifax County","ballotsCounted":0,"ballotsExpected":6596},{"id":"85","name":"Hanover County","ballotsCounted":588,"ballotsExpected":5255},{"id":"87","name":"Henrico County","ballotsCounted":12130,"ballotsExpected":12287},{"id":"89","name":"Henry County","ballotsCounted":8314,"ballotsExpected":8926},{"id":"91","name":"Highland County","ballotsCounted":7087,"ballotsExpected":7355},{"id":"93","name":"Isle Of Wight County","ballotsCounted":5358,"ballotsExpected":8090},{"id":"95","name":"James City County","ballotsCounted":6127,"ballotsExpected":6996},{"id":"97","name":"King Queen County","ballotsCounted":2826,"ballotsExpected":8999},{"id":"99","name":"King George County","ballotsCounted":3949,"ballotsExpected":9188},{"id":"101","name":"King William County","ballotsCounted":970,"ballotsExpected":12529},{"id":"103","name":"Lancaster County","ballotsCounted":3610,"ballotsExpected":10188},{"id":"105","name":"Lee County","ballotsCounted":421,"ballotsExpected":4229},{"id":"107","name":"Loudoun County","ballotsCounted":5518,"ballotsExpected":8170},{"id":"109","name":"Louisa County","ballotsCounted":5016,"ballotsExpected":7665},{"id":"111","name":"Lunenburg County","ballotsCounted":627,"ballotsExpected":11044},{"id":"113","name":"Madison County","ballotsCounted":7458,"ballotsExpected":12470},{"id":"115","name":"Mathews County","ballotsCounted":5369,"ballotsExpected":6132},{"id":"117","name":"Mecklenburg County","ballotsCounted":7550,"ballotsExpected":9162},{"id":"119","name":"Middlesex County","ballotsCounted":117,"ballotsExpected":6527},{"id":"121","name":"Montgomery County","ballotsCounted":2593,"ballotsExpected":5151},{"id":"125","name":"Nelson County","ballotsCounted":115,"ballotsExpected":6820},{"id":"127","name":"New Kent County","ballotsCounted":1377,"ballotsExpected":12758},{"id":"131","name":"Northampton County","ballotsCounted":3078,"ballotsExpected":7126},{"id":"133","name":"Northumberland County","ballotsCounted":8219,"ballotsExpected":10739},{"id":"135","name":"Nottoway County","ballotsCounted":4149,"ballotsExpected":4605},{"id":"137","name":"Orange County","ballotsCounted":7239,"ballotsExpected":7418},{"id":"139","name":"Page County","ballotsCounted":5093,"ballotsExpected":8570},{"id":"141","name":"Patrick County","ballotsCounted":4690,"ballotsExpected":8599},{"id":"143","name":"Pittsylvania County","ballotsCounted":1229,"ballotsExpected":11252},{"id":"145","name":"Powhatan County","ballotsCounted":6616,"ballotsExpected":9979},{"id":"147","name":"Prince Edward County","ballotsCounted":6060,"ballotsExpected":8103},{"id":"149","name":"Prince George County","ballotsCounted":3201,"ballotsExpected":5998},{"id":"153","name":"Prince William County","ballotsCounted":2932,"ballotsExpected":6265},{"id":"155","name":"Pulaski County","ballotsCounted":3644,"ballotsExpected":11170},{"id":"157","name":"Rappahannock County","ballotsCounted":931,"ballotsExpected":10342},{"id":"159","name":"Richmond County","ballotsCounted":3836,"ballotsExpected":9114},{"id":"161","name":"Roanoke County","ballotsCounted":1205,"ballotsExpected":8812},{"id":"163","name":"Rockbridge County","ballotsCounted":5800,"ballotsExpected":8891},{"id":"165","name":"Rockingham County","ballotsCounted":6374,"ballotsExpected":10977},{"id":"167","name":"Russell County","ballotsCounted":4698,"ballotsExpected":9307},{"id":"169","name":"Scott County","ballotsCounted":340,"ballotsExpected":6389},{"id":"171","name":"Shenandoah County","ballotsCounted":299,"ballotsExpected":3197},{"id":"173","name":"Smyth County","ballotsCounted":3379,"ballotsExpected":10946},{"id":"175","name":"Southampton County","ballotsCounted":6111,"ballotsExpected":12434},{"id":"177","name":"Spotsylvania County","ballotsCounted":4180,"ballotsExpected":5001},{"id":"179","name":"Stafford County","ballotsCounted":3523,"ballotsExpected":8943},{"id":"181","name":"Surry County","ballotsCounted":7128,"ballotsExpected":11493},{"id":"183","name":"Sussex County","ballotsCounted":5775,"ballotsExpected":8149},{"id":"185","name":"Tazewell County","ballotsCounted":12119,"ballotsExpected":12178},{"id":"187","name":"Warren County","ballotsCounted":149,"ballotsExpected":11662},{"id":"191","name":"Washington County","ballotsCounted":6647,"ballotsExpected":7569},{"id":"193","name":"Westmoreland County","ballotsCounted":6709,"ballotsExpected":12534},{"id":"195","name":"Wise County","ballotsCounted":216,"ballotsExpected":11314},{"id":"197","name":"Wythe County","ballotsCounted":6606,"ballotsExpected":9480},{"id":"199","name":"York County","ballotsCounted":7380,"ballotsExpected":10067},{"id":"510","name":"Alexandria City","ballotsCounted":4850,"ballotsExpected":7772},{"id":"520","name":"Bristol City","ballotsCounted":10532,"ballotsExpected":11378},{"id":"530","name":"Buena Vista City","ballotsCounted":277,"ballotsExpected":6901},{"id":"540","name":"Charlottesville City","ballotsCounted":4278,"ballotsExpected":11422},{"id":"550","name":"Chesapeake City","ballotsCounted":875,"ballotsExpected":9805},{"id":"570","name":"Colonial Heights City","ballotsCounted":5130,"ballotsExpected":10910},{"id":"580","name":"Covington City","ballotsCounted":3684,"ballotsExpected":12048},{"id":"590","name":"Danville City","ballotsCounted":4105,"ballotsExpected":11349},{"id":"595","name":"Emporia City","ballotsCounted":11380,"ballotsExpected":12296},{"id":"600","name":"Fairfax City","ballotsCounted":3700,"ballotsExpected":4742},{"id":"610","name":"Falls Church City","ballotsCounted":5781,"ballotsExpected":11475},{"id":"620","name":"Franklin City","ballotsCounted":3699,"ballotsExpected":8109},{"id":"630","name":"Fredericksburg City","ballotsCounted":4360,"ballotsExpected":5496},{"id":"640","name":"Galax City","ballotsCounted":4806,"ballotsExpected":6952},{"id":"650","name":"Hampton City","ballotsCounted":8034,"ballotsExpected":10905},{"id":"660","name":"Harrisonburg City","ballotsCounted":3871,"ballotsExpected":4816},{"id":"670","name":"Hopewell City","ballotsCounted":3560,"ballotsExpected":4005},{"id":"678","name":"Lexington City","ballotsCounted":10506,"ballotsExpected":12817},{"id":"680","name":"Lynchburg City","ballotsCounted":838,"ballotsExpected":11189},{"id":"683","name":"Manassas City","ballotsCounted":5233,"ballotsExpected":8748},{"id":"685","name":"Manassas Park City","ballotsCounted":2387,"ballotsExpected":9774},{"id":"690","name":"Martinsville City","ballotsCounted":8461,"ballotsExpected":8909},{"id":"700","name":"Newport News City","ballotsCounted":6716,"ballotsExpected":11786},{"id":"710","name":"Norfolk City","ballotsCounted":1871,"ballotsExpected":12062},{"id":"720","name":"Norton City","ballotsCounted":1242,"ballotsExpected":10822},{"id":"730","name":"Petersburg City","ballotsCounted":4970,"ballotsExpected":8127},{"id":"735","name":"Poquoson City","ballotsCounted":328,"ballotsExpected":8625},{"id":"740","name":"Portsmouth City","ballotsCounted":6070,"ballotsExpected":9023},{"id":"750","name":"Radford City","ballotsCounted":7770,"ballotsExpected":10083},{"id":"760","name":"Richmond City","ballotsCounted":2590,"ballotsExpected":10898},{"id":"770","name":"Roanoke City","ballotsCounted":7877,"ballotsExpected":9067},{"id":"775","name":"Salem City","ballotsCounted":5286,"ballotsExpected":6140},{"id":"790","name":"Staunton City","ballotsCounted":1662,"ballotsExpected":11972},{"id":"800","name":"Suffolk City","ballotsCounted":6238,"ballotsExpected":9574},{"id":"810","name":"Virginia Beach City","ballotsCounted":4685,"ballotsExpected":5981},{"id":"820","name":"Waynesboro City","ballotsCounted":6533,"ballotsExpected":11695},{"id":"830","name":"Williamsburg City","ballotsCounted":7988,"ballotsExpected":9604},{"id":"840","name":"Winchester City","ballotsCounted":6524,"ballotsExpected":9618}]}')},30:function(t,e,n){"use strict";n.r(e);var o=n(0),l=n.n(o),a=n(15),d=n.n(a),i=(n(26),n(20)),u=n(4),s=n(7),c=n(11),r=n(1),b=n(2),m=n(9),C=n.n(m),p=n(19),x=new Intl.DateTimeFormat("en",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}),y=(new Intl.DateTimeFormat("en",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),new Intl.DateTimeFormat("en",{month:"long",day:"numeric",year:"numeric"})),E=n(3);var f=n(10),g=n.n(f),h=(n(27),{width:"100vw",height:"calc(100vh - 80px)",position:"absolute"}),v=function(){var t=Object(o.useState)(null),e=Object(u.a)(t,2),n=e[0],a=e[1],d=Object(o.useRef)(null);return Object(o.useEffect)((function(){g.a.accessToken="pk.eyJ1IjoidnhtYXR0IiwiYSI6ImNrZXlqanVsZjE2dTcyeWw5MXo2MGl2bXkifQ.aYJ7caybvE-W8NGle4p0-w";n||function(t){var e=t.setMapFunction,n=t.mapRef,o=new g.a.Map({container:n.current,style:"mapbox://styles/vxmatt/ckeymjssl073319o1uc1j0dga",center:[-78.6569,37.4316],zoom:6});o.on("load",(function(){e(o),o.resize(),o.addControl(new g.a.NavigationControl)}))}({setMapFunction:a,mapRef:d})}),[n]),l.a.createElement("div",{ref:d,style:h})};function w(){var t=Object(r.a)(["\n  position: relative;\n  font-size: 0.8rem;\n  font-weight: 600;\n  div {\n    padding: 0 0.3rem;\n    border-radius: 2rem;\n    line-height: 1.4em;\n  }\n  div:first-child {\n    background: #dddddd;\n  }\n  div:last-child {\n    position: absolute;\n    z-index: 1;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    overflow: hidden;\n    background: #000000;\n    color: #ffffff;\n    text-align: right;\n  }\n"]);return w=function(){return t},t}function k(){var t=Object(r.a)(["\n  padding: ",";\n  border-bottom: ",";\n  margin-bottom: ",";\n  background: ",";\n  @media (min-width: 767px) {\n    padding: ",";\n  }\n\n  p {\n    margin: 0 0 0.2rem;\n  }\n"]);return k=function(){return t},t}function j(){var t=Object(r.a)(["\n  font-size: 1.3rem;\n"]);return j=function(){return t},t}function O(){var t=Object(r.a)(["\n  width: 100%;\n  padding: 0.25rem;\n  @media (min-width: 767px) {\n    width: 15em;\n  }\n"]);return O=function(){return t},t}function S(){var t=Object(r.a)(["\n  flex: 1;\n  margin: 0.5em 0;\n  @media (min-width: 767px) {\n    margin: 0 1em 0 0;\n  }\n"]);return S=function(){return t},t}function F(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  @media (min-width: 767px) {\n    flex-direction: row;\n    align-items: center;\n  }\n"]);return F=function(){return t},t}function M(){var t=Object(r.a)(["\n  flex-shrink: 3;\n  margin-top: 0.25em;\n  font-size: 0.8rem;\n  @media (min-width: 767px) {\n    margin-top: 0;\n  }\n"]);return M=function(){return t},t}function R(){var t=Object(r.a)(["\n  flex-grow: 1;\n  margin: 0;\n"]);return R=function(){return t},t}function W(){var t=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]);return W=function(){return t},t}function T(){var t=Object(r.a)(["\n  padding: 1rem;\n"]);return T=function(){return t},t}function B(){var t=Object(r.a)(["\n  padding-top: ",";\n"]);return B=function(){return t},t}function N(){var t=Object(r.a)(["\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  left: 0;\n  padding: 0.5rem;\n  background: #3e4e6d;\n  color: #ffffff;\n  @media (min-width: 767px) {\n    padding: 1rem;\n  }\n"]);return N=function(){return t},t}function P(){var t=Object(r.a)([""]);return P=function(){return t},t}C.a.addSingularRule("localities","locality");var G=b.a.div(P()),L=b.a.div(N()),A=b.a.main(B(),(function(t){var e=t.navigationHeight;return e?"".concat(e,"px"):"150px"})),H=b.a.div(T()),I=b.a.div(W()),z=b.a.h1(R()),D=b.a.div(M()),J=b.a.label(F()),V=b.a.div(S()),Z=b.a.input(O()),K=b.a.strong(j()),X=b.a.div(k(),(function(t){return t.isTotal?"2rem 0.5rem":"0.75rem 0.5rem"}),(function(t){return t.isTotal?"1px solid #cccccc":void 0}),(function(t){return t.isTotal?"0.5rem":void 0}),(function(t){return t.isTotal?"#eeeeee":void 0}),(function(t){return t.isTotal?"2rem 1rem":"1rem"})),Y=b.a.div(w()),q=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=[t[n],t[e]];t[e]=o[0],t[n]=o[1]}return t}(E.localities.map((function(t,e,n){return(e+1)/n.length*360}))),Q=E.localities.reduce((function(t,e,n){return Object(c.a)({},t,Object(s.a)({},e.id,"hsl(".concat(q[n]," 40% 40% / 1)")))}),{}),U={ignorePunctuation:!0,numeric:!0},$=function(){var t=Object(p.a)(),e=Object(o.useState)(0),n=Object(u.a)(e,2),a=n[0],d=n[1],s=Object(o.useState)("map"),r=Object(u.a)(s,2),b=r[0],m=r[1],f=Object(o.useState)(""),g=Object(u.a)(f,2),h=g[0],w=g[1],k=E.localities.reduce((function(t,e){return Object(c.a)({},t,{ballotsCounted:t.ballotsCounted+e.ballotsCounted,ballotsExpected:t.ballotsExpected+e.ballotsExpected})}),{id:"total",name:"State of Virginia",ballotsCounted:0,ballotsExpected:0}),j=E.localities.sort((function(t,e){return t.name.localeCompare(e.name,void 0,U)})),O=[k].concat(Object(i.a)(j)).filter((function(t){return t.name.match(new RegExp(h,"gi"))})),S=y.format(new Date(E.election.date)),F=x.format(new Date(E.lastUpdated));return Object(o.useEffect)((function(){var t,e;d(null!==(t=null===(e=document.getElementById("navigation"))||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==t?t:0)}),[t,h,b]),l.a.createElement(G,null,l.a.createElement(L,{id:"navigation"},l.a.createElement(I,null,l.a.createElement(z,null,E.name),l.a.createElement(D,null,"Last updated: ",F)),l.a.createElement("nav",null,l.a.createElement("button",{type:"button",onClick:function(){return m("list")}},"list"),l.a.createElement("button",{type:"button",onClick:function(){return m("map")}},"map"),l.a.createElement("button",{type:"button",onClick:function(){return m("about")}},"about")),"list"===b&&l.a.createElement(J,null,h?l.a.createElement(V,null,"Showing ",C()("locality",O.length,!0)," ","matching \u201c",h,"\u201d for ",S," ",E.election.name):l.a.createElement(V,null,"Showing all"," ",C()("locality",O.length,!0)," for"," ",S," ",E.election.name),l.a.createElement(Z,{type:"text",placeholder:"search by name",maxLength:30,onChange:function(t){return w(t.currentTarget.value)}}))),l.a.createElement(A,{navigationHeight:a,isMap:"map"===b},"about"===b?l.a.createElement(H,null,l.a.createElement("h1",null,"About This App"),l.a.createElement("p",null,"What does it all mean?"),l.a.createElement("p",null,"Where is my spoon?")):"map"===b?l.a.createElement("div",null,l.a.createElement(v,null)):l.a.createElement(l.a.Fragment,null,O.map((function(t){var e=t.ballotsCounted/t.ballotsExpected*100;return l.a.createElement(X,{key:t.id,isTotal:"total"===t.id},l.a.createElement("p",null,l.a.createElement(K,null,t.name)," has counted"," ",t.ballotsCounted.toLocaleString("en")," of"," ",t.ballotsExpected.toLocaleString("en")," expected ballots","total"===t.id&&l.a.createElement("strong",null," in total"),"."),l.a.createElement(Y,null,l.a.createElement("div",null,0===e?"0%":"".concat(e.toFixed(2),"%")),l.a.createElement("div",{style:{width:"".concat(e,"%"),backgroundColor:Q[t.id],visibility:0===t.ballotsCounted?"hidden":void 0}},"".concat(e.toFixed(2),"%"))))})),0===O.length&&l.a.createElement("button",{type:"button",onClick:function(){return w("")}},"Show all"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.bdc124c0.chunk.js.map